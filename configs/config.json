{
  "models": [
    {
      "name": "resnet"
    },
    {
      "name": "mobilenet",
      "deduplication": true
    },
    {
      "name": "custom",
      "model_url": "https://storage.googleapis.com/images-search/model-finetuned.h5"
    }
  ],
  "services": [
    {
      "name": "extract_worker",
      "models": [
        {
          "name": "resnet",
          "pods": 1 
        },
        {
          "name": "mobilenet",
          "pods": 1 
        },
        {
          "name": "custom",
          "num_indexes": 1,
          "pods": 1
        }
      ]
    },
    {
      "name": "indexing",
      "models": [
        {
          "name": "resnet",
          "num_indexes": 2,
          "pods": 1,
          "index_algorithm": "kd_tree"
        },
        {
          "name": "mobilenet",
          "num_indexes": 2,
          "pods": 1 
        },
        {
          "name": "custom",
          "num_indexes": 2,
          "pods": 1
        }
      ]
    },
    {
      "name": "serving",
      "models": [
        {
          "name": "resnet",
          "pods": 1
        },
        {
          "name": "mobilenet",
          "pods": 1
        },
        {
          "name": "custom",
          "num_indexes": 1,
          "pods": 1
        }
      ] 
    },
    {
      "name": "rabbitmq_wrapper",
      "pods": 1
    },
    {
      "name": "rabbitmq",
      "pods": 1 
    },
    {
      "name": "mongo",
      "services": [
        {
          "name": "config_db",
          "pods": 3
        },
        {
          "name": "router",
          "pods": 3
        },
        {
          "name": "shard",
          "shards": 2,
          "pods": 3
        }
      ]
    }
  ]
}